#include <iostream>

namespace My {

void printf(const char* content) {
  using std::cout;
  while (*content) {
    if (*content == '%' && *(++content) != '%') {
      throw "Invalid number of arguements!";
    }
    cout << *content++;
  }
}

template<typename T, typename ... Args>
void printf(const char* content, T value, Args ... args) {
  using std::cout;
  while (*content) {
    if (*content == '%' && *(++content) != '%') {
      cout << value;
      printf(content, args...);
      return;
    }
    cout << *content++;
  }
  throw "Invalid number of arguements!";
}
}

int main() {
  My::printf("% hello %%% \n", 3, "me");
  My::printf("%\n", 100);
  //  My::printf("%% ouch! %\n"); // Too few args
  //  My::printf("% oops! \n", 4, 14); // Too many args
  return 0;
}
